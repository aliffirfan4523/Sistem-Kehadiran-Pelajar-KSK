<?php require_once('../Connections/localhost.php'); ?><?php//initialize the sessionif (!isset($_SESSION)) {  session_start();}// ** Logout the current user. **$logoutAction = $_SERVER['PHP_SELF']."?doLogout=true";if ((isset($_SERVER['QUERY_STRING'])) && ($_SERVER['QUERY_STRING'] != "")){  $logoutAction .="&". htmlentities($_SERVER['QUERY_STRING']);}if ((isset($_GET['doLogout'])) &&($_GET['doLogout']=="true")){  //to fully log out a visitor we need to clear the session varialbles  $_SESSION['MM_Username'] = NULL;  $_SESSION['MM_UserGroup'] = NULL;  $_SESSION['PrevUrl'] = NULL;  unset($_SESSION['MM_Username']);  unset($_SESSION['MM_UserGroup']);  unset($_SESSION['PrevUrl']);	  $logoutGoTo = "../logout.php";  if ($logoutGoTo) {    header("Location: $logoutGoTo");    exit;  }}?><?phpif (!function_exists("GetSQLValueString")) {function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") {  if (PHP_VERSION < 6) {    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;  }  $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);  switch ($theType) {    case "text":      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";      break;        case "long":    case "int":      $theValue = ($theValue != "") ? intval($theValue) : "NULL";      break;    case "double":      $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";      break;    case "date":      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";      break;    case "defined":      $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;      break;  }  return $theValue;}}$maxRows_RekodKehadiran = 10;$pageNum_RekodKehadiran = 0;if (isset($_GET['pageNum_RekodKehadiran'])) {  $pageNum_RekodKehadiran = $_GET['pageNum_RekodKehadiran'];}$startRow_RekodKehadiran = $pageNum_RekodKehadiran * $maxRows_RekodKehadiran;$colname_RekodKehadiran = "-1";if (isset($_GET['student_id'])) {  $colname_RekodKehadiran = $_GET['student_id'];}mysql_select_db($database_localhost, $localhost);$query_RekodKehadiran = sprintf("SELECT * FROM student WHERE student_id = %s", GetSQLValueString($colname_RekodKehadiran, "text"));$query_limit_RekodKehadiran = sprintf("%s LIMIT %d, %d", $query_RekodKehadiran, $startRow_RekodKehadiran, $maxRows_RekodKehadiran);$RekodKehadiran = mysql_query($query_limit_RekodKehadiran, $localhost) or die(mysql_error());$row_RekodKehadiran = mysql_fetch_assoc($RekodKehadiran);if (isset($_GET['totalRows_RekodKehadiran'])) {  $totalRows_RekodKehadiran = $_GET['totalRows_RekodKehadiran'];} else {  $all_RekodKehadiran = mysql_query($query_RekodKehadiran);  $totalRows_RekodKehadiran = mysql_num_rows($all_RekodKehadiran);}$totalPages_RekodKehadiran = ceil($totalRows_RekodKehadiran/$maxRows_RekodKehadiran)-1;mysql_select_db($database_localhost, $localhost);$query_rekod_kehadiran = "SELECT student_name, grade_level, `date`, `time` FROM student ORDER BY student.`time` desc, student.`date` desc";$rekod_kehadiran = mysql_query($query_rekod_kehadiran, $localhost) or die(mysql_error());$row_rekod_kehadiran = mysql_fetch_assoc($rekod_kehadiran);$totalRows_rekod_kehadiran = mysql_num_rows($rekod_kehadiran);$colname_show_selected_student = "-1";if (isset($_SESSION['student_name'])) {  $colname_show_selected_student = $_SESSION['student_name'];}mysql_select_db($database_localhost, $localhost);$query_show_selected_student = sprintf("SELECT * FROM student WHERE student_name = %s", GetSQLValueString($colname_show_selected_student, "text"));$show_selected_student = mysql_query($query_show_selected_student, $localhost) or die(mysql_error());$row_show_selected_student = mysql_fetch_assoc($show_selected_student);$totalRows_show_selected_student = mysql_num_rows($show_selected_student);?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Sistem Kehadiran Pelajar KSK</title><style>	body {	  margin: 0;	  background:#555;	  font-family: sans-serif;	  font-weight: 100;	}		a {	  text-decoration: none;	  color: #000;	}	.site-header { 		background: linear-gradient(45deg, #49a09d, #5f2c82);	  border-bottom: 1px solid #ccc;	  padding: .5em 1em;	}		.site-header::after {	  content: "";	  display: table;	  clear: both;	}		.site-identity {	  float: left;	}		.site-identity h1 {	  font-size: 1.5em;	  margin: .7em 0 .3em 0;	  display: inline-block;	}		.site-identity h1 a{	  color:#FFF;	}		.site-identity img {	  max-width: 299px;	  float: left;	  margin: 0 10px 0 0;	}		.site-navigation {	  float: right;	}		.site-navigation ul, li a{	  margin: 0; 	  padding: 0;	  color:#FFF;	}		.site-navigation li {	  display: inline-block;	  margin: 1.4em 1em 1em 1em;	}		table {		margin-left: auto;		margin-right: auto;		  border-collapse: collapse;	  overflow: hidden;	  box-shadow: 0 0 20px rgba(0,0,0,0.1);	}		th,td {	  padding: 15px;	  background:#55608f;	  color: #fff;	}		th {	  text-align: left;	}		thead {	  th {		background-color: #55608f;	  }	}		tbody {	  tr {		&:hover {		  background-color: rgba(255,255,255,0.3);		}	  }	  td {		position: relative;		&:hover {		  &:before {			content: "";			position: absolute;			left: 0;			right: 0;			top: -9999px;			bottom: -9999px;			background-color: rgba(255,255,255,0.2);			z-index: -1;		  }		}	  }	}	.table-pelajar {		border: 1px solid black;		border-collapse: collapse;	}			.table-pelajar th, td {		padding: 10px;	}		.navigation {		  list-style: none;		  margin: 0;		  padding: 0;		  background-color: #f8f8f8;		  text-align:center		}		.navigation li {		  display: inline-block;		 margin-right: 10px; /* add margin between li elements */		}				.navigation li:last-child {		  margin-right: 0; /* remove margin from last li element */		}		.navigation li a {		  display: block;		  padding: 10px 20px;		  text-decoration: none;		  color: #333;		}		.navigation li a:hover {		  background-color: #333;		  color: #fff;		}		.filter-sort{			display:block;			text-align:left;			padding: 30px;		}	</style></head><body >	<header class="site-header">      <div class="site-identity">        <a href="#"><img src="../logo.png" width="288" height="93" alt="" /></a>        <h1><a href="#">Sistem Kehadiran Pelajar KSK</a></h1>      </div>        <nav class="site-navigation">        <ul class="nav">          <li><a href="<?php echo $logoutAction ?>">Log Keluar</a></li>        </ul>      </nav>    </header>    <div class="filter-sort">    	    </div>    <div>   	  <?php if ($totalRows_rekod_kehadiran) { // Show if recordset not empty ?>			<?php if ($totalRows_rekod_kehadiran > 0) { // Show if recordset not empty ?>              <div class="container">                <table width="50%" border="0" cellspacing="0" class="styled-table">                    <thead>                        <tr>                          <th>Nama Pelajar</th>                          <th>Tahun</th>                          <th>Tarikh</th>                          <th>Masa</th>                        </tr>                    </thead>                    <?php do { ?>                      <tbody>                        <tr>                            <td><?php echo $row_rekod_kehadiran['student_name']; ?></td>                            <td><?php echo $row_rekod_kehadiran['grade_level']; ?></td>                            <td><?php echo $row_rekod_kehadiran['date']; ?></td>                            <td><?php echo $row_rekod_kehadiran['time']; ?></td>                        </tr>                      </tbody>                      <?php } while ($row_rekod_kehadiran = mysql_fetch_assoc($rekod_kehadiran)); ?>                </table>              </div>              <?php } // Show if recordset not empty ?>      <?php } // Show if recordset not empty ?>            <?php if ($totalRows_rekod_kehadiran == 0) { // Show if recordset empty ?>          <p style="text-align:center">No record available</p>    	<?php } // Show if recordset empty ?>    </div></body></html><?phpmysql_free_result($RekodKehadiran);mysql_free_result($rekod_kehadiran);mysql_free_result($show_selected_student);?>